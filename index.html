<!DOCTYPE html>
<html lang="zh-Hant">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="refresh" content="600">
    <title>YouTube 財經分析流 - 專業 AI 導讀</title>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;800&family=Noto+Sans+TC:wght@300;400;700&display=swap"
        rel="stylesheet">
    <style>
        :root {
            --bg-color: #050505;
            --card-bg: rgba(20, 20, 20, 0.7);
            --accent-color: #6366f1;
            --text-primary: #ffffff;
            --text-secondary: #a1a1aa;
            --glass-border: rgba(255, 255, 255, 0.1);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Inter', 'Noto Sans TC', sans-serif;
        }

        body {
            background-color: var(--bg-color);
            color: var(--text-primary);
            overflow-x: hidden;
            background: radial-gradient(circle at 50% 0%, #171717 0%, #050505 100%);
            min-height: 100vh;
        }

        header {
            padding: 40px 20px;
            text-align: center;
            border-bottom: 1px solid var(--glass-border);
            backdrop-filter: blur(10px);
            position: sticky;
            top: 0;
            z-index: 100;
            background: rgba(5, 5, 5, 0.8);
        }

        h1 {
            font-size: 2.2rem;
            font-weight: 800;
            background: linear-gradient(to right, #818cf8, #c084fc);
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 10px;
        }

        .subtitle {
            color: var(--text-secondary);
            font-size: 1rem;
        }

        .container {
            max-width: 1000px;
            margin: 40px auto;
            padding: 0 20px;
        }

        .section-title {
            font-size: 1.5rem;
            margin-bottom: 30px;
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .section-title::after {
            content: '';
            flex: 1;
            height: 1px;
            background: linear-gradient(to right, var(--accent-color), transparent);
        }

        .schedule-grid {
            display: flex;
            flex-direction: column;
            gap: 32px;
        }

        .video-card {
            background: var(--card-bg);
            border: 1px solid var(--glass-border);
            border-radius: 16px;
            padding: 32px;
            display: flex;
            flex-direction: column;
            gap: 20px;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            text-decoration: none;
            color: inherit;
            width: 100%;
            position: relative;
            overflow: hidden;
        }

        .video-card:hover {
            border-color: var(--accent-color);
            background: rgba(30, 30, 30, 0.9);
            transform: translateY(-4px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.6);
        }

        .metadata {
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 10px;
        }

        .time-tag {
            background: rgba(99, 102, 241, 0.2);
            border: 1px solid var(--accent-color);
            color: var(--accent-color);
            padding: 4px 12px;
            border-radius: 6px;
            font-size: 0.8rem;
            font-weight: 600;
        }

        .live-indicator {
            display: flex;
            align-items: center;
            gap: 6px;
            font-size: 0.75rem;
            color: #ef4444;
            font-weight: 700;
            text-transform: uppercase;
        }

        .pulse {
            width: 8px;
            height: 8px;
            background: #ef4444;
            border-radius: 50%;
            animation: pulse-animation 2s infinite;
        }

        @keyframes pulse-animation {
            0% {
                transform: scale(0.95);
                opacity: 1;
            }

            50% {
                transform: scale(1.2);
                opacity: 0.5;
            }

            100% {
                transform: scale(0.95);
                opacity: 1;
            }
        }

        .video-title {
            font-size: 1.1rem;
            font-weight: 400;
            line-height: 1.8;
            color: var(--text-primary);
            white-space: pre-wrap;
            border-left: 3px solid var(--accent-color);
            padding-left: 20px;
        }

        .video-channel {
            color: var(--text-secondary);
            font-size: 0.95rem;
            font-weight: 600;
        }

        .footer {
            text-align: center;
            padding: 60px 20px;
            color: var(--text-secondary);
            font-size: 0.85rem;
            border-top: 1px solid var(--glass-border);
            margin-top: 40px;
        }

        @media (max-width: 768px) {
            h1 {
                font-size: 1.6rem;
            }

            .video-card {
                padding: 20px;
            }
        }
    </style>
</head>

<body>
    <header>
        <h1>YouTube 財經智庫</h1>
        <p class="subtitle">AI 驅動的全球經濟與投資趨勢即時導讀</p>
    </header>

    <div class="container">
        <div class="section-title">最新財經深度分析</div>
        <div class="schedule-grid" id="schedule-grid"></div>

        <div class="section-title" style="margin-top: 60px;">雲端紀錄歸檔</div>
        <div id="history-status" style="text-align: center; color: var(--text-secondary); margin-bottom: 20px;">載入中...
        </div>
        <div class="schedule-grid" id="history-grid"></div>
    </div>

    <div class="footer">
        © 2026 YouTube-Habit-Sync | Powered by DeepSeek AI
    </div>


    <script>
        const SUPABASE_URL = "https://fkzsmtlryhvccivhdapu.supabase.co";
        const SUPABASE_ANON_KEY = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZrenNtdGxyeWh2Y2NpdmhkYXB1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjY4MzM5MzAsImV4cCI6MjA4MjQwOTkzMH0.0_liolRCK4YVuBGxtaYZXiB59Rx-bZCTsea2T_Mp5lM";

        // This array is automatically updated by the daemon script
        const videos = [{"summary": "📌 主題：河南商丘七代传承驴肉，日销60头驴生意火爆，顾客排队抢着买#麦总去哪吃\n\n【⏱️ 3 小時前 | 🔄 02-17 20:28 | 📝 262 字】\n\n⚠️⚠️⚠️【注意：無字幕，以下內容為 AI 看標題說故事，僅供參考】⚠️⚠️⚠️\n\n- 影片主角為河南商丘一家傳承七代的驢肉專賣店，凸顯其歷史與品牌價值。\n- 該店生意極為興隆，每日銷售量達60頭驢，此具體數字反映其龐大的市場需求與產能。\n- 「顧客排隊搶著買」的描述，直接顯示產品受歡迎程度高，可能具有獨特配方或口碑優勢。\n- 從商業模式分析，日銷60頭驢的規模，暗示背後可能有成熟的供應鏈與標準化處理流程以支持大量銷售。\n- 此案例呈現中國地方特色餐飲（驢肉）的市場潛力，傳承老店在消費市場中仍具強大吸引力與變現能力。", "channel": "麦总去哪吃", "url": "https://www.youtube.com/watch?v=1LyL20AXI5U"}, {"summary": "📌 主題：第1873集[港股十大賺錢之王] 原來在香港上市的公司裏面，賺錢最叻嗰五間企業，都係嚟自銀行界，真係犀利！另外能源股和科技股都打入十大。記住賺錢賺得多，都要同股東分享，才會得到捧場的！\n\n【⏱️ 6 小時前 | 🔄 02-17 20:28 | 📝 161 字】\n\n⚠️⚠️⚠️【注意：無字幕，以下內容為 AI 看標題說故事，僅供參考】⚠️⚠️⚠️\n\n- 影片標題指出，在香港上市公司中，盈利能力最強的前五名企業均來自銀行業。\n- 除了銀行股，能源股和科技股也成功躋身盈利能力前十大的榜單。\n- 影片強調，企業獲利豐厚之餘，亦需透過派息等方式與股東分享利潤，此舉有助於維持投資者的支持度。", "channel": "John Yung", "url": "https://www.youtube.com/watch?v=5lJuqqTWaeY"}, {"summary": "📌 主題：仁王3 劇情攻略 (25) 遺留下來的志士們、新選組的計謀、奈洛深淵之怪\n\n【⏱️ 9 小時前 | 🔄 02-17 20:27 | 📝 326 字】\n\n⚠️⚠️⚠️【注意：無字幕，以下內容為 AI 看標題說故事，僅供參考】⚠️⚠️⚠️\n\n（根據標題深度推演）\n*   影片內容聚焦於動作角色扮演遊戲《仁王3》的劇情攻略，涵蓋「遺留下來的志士們」、「新選組的計謀」及「奈洛深淵之怪」等章節或任務。\n*   攻略重點在於解析與「新選組」相關的劇情線索與角色互動，該組織在遊戲中可能扮演關鍵的盟友或敵對勢力。\n*   遊戲進程將深入稱為「奈洛深淵」的區域，玩家需要應對該地區特有的強大怪物或頭目，此為關卡挑戰的核心。\n*   影片將提供針對深淵怪物及新選組敵人的具體戰鬥策略、弱點分析與攻略技巧，以協助玩家推進劇情。\n*   劇情部分可能涉及幕末歷史背景與虛構妖怪傳說的結合，探索志士們的遺志與背後隱藏的陰謀。", "channel": "AMU Game Channel", "url": "https://www.youtube.com/watch?v=ySZyFBxTFs0"}, {"summary": "📌 主題：仁王3 劇情攻略 (26) 石匣封印的物品、遺留下來的志士們、伏魔伽藍\n\n【⏱️ 2 小時前 | 🔄 02-17 20:27 | 📝 301 字】\n\n⚠️⚠️⚠️【注意：無字幕，以下內容為 AI 看標題說故事，僅供參考】⚠️⚠️⚠️\n\n（根據標題深度推演）\n\n*   影片內容聚焦於動作角色扮演遊戲《仁王3》的劇情攻略，此為第26部分。\n*   本集關鍵任務或劇情環節涉及「石匣封印的物品」，推測玩家需解開特定封印以取得關鍵道具或推進劇情。\n*   「遺留下來的志士們」可能指遊戲中登場的特定歷史人物或NPC勢力，其背景或任務與本集劇情密切相關。\n*   「伏魔伽藍」應為本集攻略的核心場景或關卡名稱，推測是一處寺院或戰鬥區域，玩家將在此面對主要挑戰。\n*   作為攻略影片，內容預期包含該關卡的路線指引、敵人配置、頭目戰技巧以及劇情過場的展示與解說。", "channel": "AMU Game Channel", "url": "https://www.youtube.com/watch?v=9BI9vOMbI5M"}, {"summary": "📌 主題：3 Stocks To Buy (& 3 Stocks To Sell) Before Feb. 2026 Ends\n\n【⏱️ 1 小時前 | 🔄 02-17 20:27 | 📝 346 字】\n\n⚠️⚠️⚠️【注意：無字幕，以下內容為 AI 看標題說故事，僅供參考】⚠️⚠️⚠️\n\n*   影片標題明確指出需在 2026 年 2 月底前採取行動，聚焦於特定買入與賣出標的。\n*   分析內容應具體列出三檔建議買入的股票（標的名稱）及其看多理由，例如：預期營收增長率、新產品上市、市場份額擴張、或被低估的估值（如本益比低於行業平均）。\n*   同時會列出三檔建議賣出或避開的股票（標的名稱）及其看空理由，例如：面臨監管風險、市場需求下滑、競爭加劇導致利潤率受壓、或財務指標惡化（如負債比率過高）。\n*   推論其分析可能基於對未來約兩年（從現在至2026年2月）的宏觀經濟預期、行業週期判斷或公司特定催化劑。\n*   最終投資建議將取決於這些個別公司的基本面展望與當時市場估值的相對吸引力。", "channel": "Everything Money", "url": "https://www.youtube.com/watch?v=p71nSCCjeYk"}, {"summary": "📌 主題：佘詩曼直覺男友與閨蜜有私情心如刀割！？邵美琪妄想症疑雲陳錦鴻求助心理醫生！｜刑事偵緝檔案IV｜古天樂｜宣萱｜陳錦鴻｜佘詩曼｜李珊珊｜港劇精華｜TVB 劇集\n\n【⏱️ 2 小時前 | 🔄 02-17 20:22 | 📝 279 字】\n\n⚠️⚠️⚠️【注意：無字幕，以下內容為 AI 看標題說故事，僅供參考】⚠️⚠️⚠️\n\n- 影片為《刑事偵緝檔案IV》劇集精華片段，內容聚焦角色情感衝突與心理問題，並非財經市場分析。\n- 片段情節涉及佘詩曼飾演的角色直覺男友不忠、邵美琪角色出現妄想症，以及陳錦鴻角色為此尋求心理醫生協助。\n- 內容純屬戲劇創作，旨在娛樂觀眾，其中提及的「私情」、「心如刀割」、「妄想症」及「心理醫生」均為劇情設定，無任何實際經濟數據、市場動態或具體投資標的。\n- 此類娛樂內容不包含可分析的財務數據、企業營運狀況或宏觀經濟趨勢，因此無法從中提取具投資價值的資訊或進行趨勢預測。", "channel": "歡樂APM", "url": "https://www.youtube.com/watch?v=SEI-C5sp8BE"}, {"summary": "📌 主題：Clever Details Inside! March 2026 Card Kit | LIVE with Heidi\n\n【⏱️ 18 小時前曾經串流 | 🔄 02-17 20:22 | 📝 301 字】\n\n⚠️⚠️⚠️【注意：無字幕，以下內容為 AI 看標題說故事，僅供參考】⚠️⚠️⚠️\n\n*   影片焦點為 2026 年 3 月的卡片材料套件（Card Kit），由 Heidi 進行直播展示與講解。\n*   內容深入剖析該套件內含的「巧妙細節」，可能包括特殊設計、隱藏功能、創新材質或工藝技術。\n*   分析推測此套件針對卡片製作、紙藝或手作愛好者市場，其設計細節是主要的產品價值與銷售亮點。\n*   影片形式為即時互動直播，旨在直接向目標客群展示產品特色，並可能即時回應觀眾提問，具有推廣與預熱性質。\n*   （根據標題深度推演）此類內容通常著重於產品獨特性與實用性，以激發潛在消費者的興趣與購買慾。", "channel": "Simon Says Stamp", "url": "https://www.youtube.com/watch?v=gGP6lToRppU"}, {"summary": "📌 主題：【粵語】同門 (2009) 1080P | Rebellion (余文樂，蔡少芬，江若琳) | 黑幫勢力內鬥警察一網打擊 |#經典華語老電影\n\n【⏱️ 2 小時前 | 🔄 02-17 20:22 | 📝 225 字】\n\n⚠️⚠️⚠️【注意：無字幕，以下內容為 AI 看標題說故事，僅供參考】⚠️⚠️⚠️\n\n-   影片《同門》（英文片名：Rebellion）為2009年上映的香港黑幫題材電影，由余文樂、蔡少芬、江若琳主演。\n-   劇情核心描繪黑幫社團內部的權力鬥爭與衝突，即所謂的「同門」內訌。\n-   故事發展中，警方作為外部勢力介入，最終將互相殘殺的黑幫勢力一網打盡。\n-   此片屬於經典華語老電影範疇，反映了特定時期香港電影對黑社會題材的處理手法與敘事模式。", "channel": "經典華語老電影", "url": "https://www.youtube.com/watch?v=PdSm0AEPuuk"}, {"summary": "📌 主題：Brendan tastes festive bonsai 🧧🍲 | Find Suet E to help review 👩‍⚖️ | Brendan tastes different?!🤯 ...\n\n【⏱️  | 🔄 02-17 20:21 | 📝 268 字】\n\n⚠️⚠️⚠️【注意：無字幕，以下內容為 AI 看標題說故事，僅供參考】⚠️⚠️⚠️\n\n- 影片主角Brendan品嚐節慶盆栽料理（推測為中式盆菜），並尋找「雪姨」（Suet E）協助評論。\n- 重點在於Brendan對食物的味覺體驗出現顯著變化（「tastes different」），引發驚訝反應（「🤯」），暗示品評過程出現意外轉折或對比。\n- 內容圍繞美食評論，可能涉及傳統節慶菜餚的創新呈現或口味比較，但未提供具體食材、價格或市場數據。\n- 影片性質屬生活娛樂，未提及金融市場、投資標的或具體經濟趨勢，因此不具直接的財經分析價值。", "channel": "Jacopo Only Friends", "url": "https://www.youtube.com/watch?v=g3x4h7YbeZY"}, {"summary": "📌 主題：爆紅影劇幕後秘密！Kpop獵魔女團/哈利波特/即興演出 #叭啦新年串燒\n\n【⏱️ 20 分鐘前 | 🔄 02-17 20:21 | 📝 378 字】\n\n⚠️⚠️⚠️【注意：無字幕，以下內容為 AI 看標題說故事，僅供參考】⚠️⚠️⚠️\n\n- 影片標題及內容提及「Kpop獵魔女團」與「哈利波特」的結合，顯示娛樂產業正透過跨文化、跨IP的內容混搭創造新話題與市場熱度，此為當前內容變現的明確趨勢。\n- 「即興演出」被強調為幕後秘密，指出成功影劇內容的產出日益依賴創意彈性與快速反應的製作模式，這可能影響相關製作公司或串流平台的內容策略與成本結構。\n- 標題中的「#叭啦新年串燒」暗示影片以節慶主題包裝，反映娛樂行銷緊扣節日流量高峰進行推廣的標準操作，是分析用戶參與度及廣告效益的關鍵時間點。\n- 整體而言，影片內容指向娛樂產業（特別是影視與偶像團體）透過創新敘事、跨領域聯名與敏捷生產來驅動流量與商業價值，投資者可關注具備相關IP整合與快速內容開發能力的公司。\n\n（分析基於標題進行推演，因無提供具體字幕內容）", "channel": "TEEPR 叭啦叭啦研究室", "url": "https://www.youtube.com/watch?v=cDegLOzaG7c"}, {"summary": "📌 主題：The Hopeful Age\n\n【⏱️  | 🔄 02-17 20:16 | 📝 315 字】\n\n⚠️⚠️⚠️【注意：無字幕，以下內容為 AI 看標題說故事，僅供參考】⚠️⚠️⚠️\n\n（根據標題深度推演）\n*   影片標題「The Hopeful Age」暗示分析師可能探討一個充滿樂觀預期的經濟或市場新時代，例如由特定技術突破（如AI）、政策轉向或週期性復甦所驅動。\n*   此「充滿希望的時代」可能指向對未來幾年全球或特定區域（如新興市場）經濟成長的正面展望，並可能連結到企業盈利預期的上調。\n*   分析可能涉及具體的投資主題或產業，例如綠色能源轉型、數位化普及或生物科技創新，這些領域被視為長期增長引擎。\n*   潛在的風險可能被提及，例如樂觀情緒是否已過度反映在資產價格中，或實現此一願景所面臨的通膨、地緣政治等挑戰。", "channel": "James Hayes - Topic", "url": "https://www.youtube.com/watch?v=dGPXYTP3W7M"}, {"summary": "📌 主題：Unbreakings\n\n【⏱️  | 🔄 02-17 20:16 | 📝 392 字】\n\n⚠️⚠️⚠️【注意：無字幕，以下內容為 AI 看標題說故事，僅供參考】⚠️⚠️⚠️\n\n（根據標題深度推演）\n\n*   影片標題「Unbreakings」可能為「Unbreakable」或「Unbreaking」的變體，暗示主題圍繞「無法被打破」或「極具韌性」的事物。\n*   在財經語境下，此標題可能指向具有強大護城河、抗衰退能力或長期穩定增長的企業、資產類別或投資策略。\n*   潛在分析標的包括：必需消費品、公用事業、醫療保健等防禦型股票；或如特定藍籌股、信評極高的債券等被視為市場基石（Market Pillars）的資產。\n*   影片可能探討這些「堅不可摧」資產在經濟周期中的表現、其定價是否已反映韌性溢價，或在市場動盪時作為資金避風港的價值。\n*   關鍵分析點可能在於識別哪些「韌性」特質是真實且可持續的，例如定價能力、品牌忠誠度、監管優勢，而非短期市場情緒驅動的溢價。", "channel": "James Hayes - Topic", "url": "https://www.youtube.com/watch?v=1Kd4pRfBxnU"}, {"summary": "📌 主題：Journeys Beginning\n\n【⏱️  | 🔄 02-17 20:16 | 📝 321 字】\n\n⚠️⚠️⚠️【注意：無字幕，以下內容為 AI 看標題說故事，僅供參考】⚠️⚠️⚠️\n\n（根據標題深度推演）\n*   影片標題「Journeys Beginning」暗示主題為新階段的啟動，可能涉及新創公司、新產品上市、新市場拓展或產業轉型初期。\n*   此類內容通常分析新興趨勢的潛在市場規模、初期成長數據、關鍵參與者（公司或技術名稱），以及早期投資者關注的估值指標或營收預測。\n*   可能探討的具體方向包括：顛覆性技術（如AI應用、新能源）的商業化起點、企業IPO後的初期表現、或是經濟循環中復甦階段的早期訊號。\n*   分析重點會放在辨識「旅程」初期的關鍵驅動因素、可量化的早期採用者數據，以及預測該趨勢從初期邁向主流的潛在路徑與挑戰。", "channel": "James Hayes - Topic", "url": "https://www.youtube.com/watch?v=jCPFWacSfE0"}, {"summary": "📌 主題：Easy Mornings\n\n【⏱️  | 🔄 02-17 20:16 | 📝 275 字】\n\n⚠️⚠️⚠️【注意：無字幕，以下內容為 AI 看標題說故事，僅供參考】⚠️⚠️⚠️\n\n（根據標題深度推演）\n*   影片標題「Easy Mornings」暗示內容可能圍繞提升晨間效率、建立例行公事或個人習慣優化。\n*   潛在分析角度可能涉及時間管理策略、生產力工具應用，或探討晨間習慣對個人財務紀律與長期投資心態的正面影響。\n*   若內容涉及特定工具或服務（如應用程式、健康產品），可能分析其市場需求、用戶增長潛力或相關消費趨勢。\n*   核心價值在於將個人效能優化與財務成功的底層邏輯（如紀律、規劃）相連結，提供非直接但具啟發性的軟性財經觀點。", "channel": "James Hayes - Topic", "url": "https://www.youtube.com/watch?v=q5ctUM5EzF0"}, {"summary": "📌 主題：【直播1】最熱新年迎赤馬！周一鳴不允過年不抄牌稱尊重同事！團年飯變質，酒樓訂枱團年大枱訂位劇跌一半！CYRUS不忿馬車挑機，年廿九踩場JEET米爺遭短暫拘捕！倖田來未演唱會因不可抗力取消16/2/26\n\n【⏱️ 19 小時前曾經串流 | 🔄 02-17 20:16 | 📝 277 字】\n\n⚠️⚠️⚠️【注意：無字幕，以下內容為 AI 看標題說故事，僅供參考】⚠️⚠️⚠️\n\n- 影片標題及內容顯示，香港警方（周一鳴）於農曆新年期間維持交通執法，表明「不允過年不抄牌」，並強調此舉是尊重同事工作。\n- 餐飲市場出現顯著變化，酒樓團年飯訂位情況不佳，其中「大枱訂位劇跌一半」，反映家庭或大型聚會需求大幅下滑。\n- 提及網絡人物衝突事件：CYRUS因不滿「馬車挑機」，於年廿九「踩場」另一網絡人物JEET米爺，後者遭「短暫拘捕」。\n- 娛樂市場出現突發事件：日本歌手倖田來未原定於2026年2月16日（16/2/26）的演唱會，因「不可抗力」取消。", "channel": "Hong Kong Uncensored 香港冇格仔", "url": "https://www.youtube.com/watch?v=TxoWdc27F2w"}];

        function generateSchedule() {
            const grid = document.getElementById('schedule-grid');
            if (!grid) return;
            grid.innerHTML = '';

            if (videos.length === 0) {
                grid.innerHTML = '<div style="text-align: center; color: var(--text-secondary); padding: 40px;">正在抓取最新財經資訊...</div>';
                return;
            }

            videos.forEach((video, index) => {
                const card = document.createElement('a');
                card.className = 'video-card';
                card.href = video.url;
                card.target = '_blank';

                const isCurrent = index === 0;

                card.innerHTML = `
                    <div class="metadata">
                        <div class="video-channel">📊 頻道：${video.channel}</div>
                        <div style="display: flex; gap: 10px; align-items: center;">
                            ${isCurrent ? '<div class="live-indicator"><div class="pulse"></div>焦點</div>' : ''}
                            <div class="time-tag">即時導讀</div>
                        </div>
                    </div>
                    <div class="video-title">${video.summary}</div>
                `;
                grid.appendChild(card);
            });
        }

        async function fetchHistory() {
            const historyGrid = document.getElementById('history-grid');
            const status = document.getElementById('history-status');
            if (!historyGrid) return;

            try {
                const response = await fetch(`${SUPABASE_URL}/rest/v1/youtube_clips?select=*&order=created_at.desc&limit=20`, {
                    headers: {
                        "apikey": SUPABASE_ANON_KEY,
                        "Authorization": `Bearer ${SUPABASE_ANON_KEY}`
                    }
                });

                const data = await response.json();
                status.style.display = 'none';

                data.forEach(item => {
                    const card = document.createElement('a');
                    card.className = 'video-card';
                    card.style.background = 'rgba(25, 25, 25, 0.4)';
                    card.href = item.url;
                    card.target = '_blank';

                    const date = new Date(item.created_at).toLocaleString('zh-TW', {
                        month: 'numeric', day: 'numeric', hour: '2-digit', minute: '2-digit'
                    });

                    card.innerHTML = `
                        <div class="metadata">
                            <div class="video-channel">📁 歸檔來源：${item.channel}</div>
                            <div class="time-tag" style="background: #4b5563;">${date}</div>
                        </div>
                        <div class="video-title">${item.summary || item.title}</div>
                    `;
                    historyGrid.appendChild(card);
                });
            } catch (error) {
                status.innerText = "無法載入歷史紀錄，請檢查網路連線。";
            }
        }

        generateSchedule();
        fetchHistory();
    </script>
</body>

</html>